{"version":3,"sources":["components/snake/Snake.js","components/food/Food.js","components/buttons/ControlBtns.js","helpers/checkFoodTouch.js","helpers/doMove.js","config/initialState.js","helpers/checkSelfCollision.js","helpers/gameOver.js","components/App.js","helpers/checkBoundaries.js","helpers/checkDirection.js","index.js"],"names":["Snake","dots","map","i","x","y","length","className","key","style","left","top","Food","food","ControlBtns","setDirection","handleClickBtn","direction","Button","labelPosition","icon","content","onClick","setDotsFreeRandomPosition","randomX","randomEvenInteger","randomY","find","dot","max","parseInt","Math","floor","random","detachHeadFromTail","tail","slice","head","Object","assign","INITIAL_DOTS","INITIAL_FOOD","checkSelfCollision","setDots","setFood","console","log","alert","gameOver","App","useState","useEffect","interval","setInterval","checkBoundaries","doMove","foodChecked","additionalTrailingDot","newFoodPosition","newDots","checkFoodTouch","clearInterval","document","addEventListener","e","defaultPrevented","code","checkDirection","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.d5497ee6.chunk.js","sourcesContent":["import React, { Fragment } from \"react\";\r\n\r\nimport \"./Snake.css\";\r\n\r\nconst Snake = ({ dots }) => {\r\n  return (\r\n    <Fragment>\r\n      {dots.map(({ x, y }, i) => {\r\n        // check if dot is head\r\n        if (i === dots.length - 1) {\r\n          return (\r\n            <span\r\n              className=\"dot-head\"\r\n              key={i}\r\n              style={{ left: `${x}%`, top: `${y}%` }}\r\n            ></span>\r\n          );\r\n        }\r\n        return (\r\n          <span\r\n            className=\"dot\"\r\n            key={i}\r\n            style={{ left: `${x}%`, top: `${y}%` }}\r\n          ></span>\r\n        );\r\n      })}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Snake;\r\n","import React, { Fragment } from \"react\";\r\n\r\nimport \"./Food.css\";\r\n\r\nconst Food = ({ food }) => {\r\n  return (\r\n    <Fragment>\r\n      {food.map(({ x, y }, i) => (\r\n        <span\r\n          className=\"food\"\r\n          key={i}\r\n          style={{ left: `${x}%`, top: `${y}%` }}\r\n        ></span>\r\n      ))}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Food;\r\n","import React from \"react\";\r\nimport { Button } from \"semantic-ui-react\";\r\n\r\nimport \"./ControlBtns.css\";\r\n\r\nconst ControlBtns = ({ setDirection }) => {\r\n  const handleClickBtn = (direction) => {\r\n    setDirection(direction);\r\n  };\r\n\r\n  return (\r\n    <div className=\"btns-group\">\r\n      <Button\r\n        className=\"up-btn\"\r\n        labelPosition=\"right\"\r\n        icon=\"up chevron\"\r\n        content=\"Up\"\r\n        onClick={() => handleClickBtn(\"up\")}\r\n      />\r\n      <Button\r\n        className=\"left-btn\"\r\n        labelPosition=\"left\"\r\n        icon=\"left chevron\"\r\n        content=\"Left\"\r\n        onClick={() => handleClickBtn(\"left\")}\r\n      />\r\n      <Button\r\n        className=\"right-btn\"\r\n        labelPosition=\"right\"\r\n        icon=\"right chevron\"\r\n        content=\"Right\"\r\n        onClick={() => handleClickBtn(\"right\")}\r\n      />\r\n      <Button\r\n        className=\"down-btn\"\r\n        labelPosition=\"right\"\r\n        icon=\"down chevron\"\r\n        content=\"Down\"\r\n        onClick={() => handleClickBtn(\"down\")}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ControlBtns;\r\n","export const checkFoodTouch = (dots, food, direction) => {\r\n  const head = dots[dots.length - 1];\r\n  if (head.x === food[0].x && head.y === food[0].y) {\r\n    let additionalTrailingDot = {};\r\n    let x;\r\n    let y;\r\n    switch (direction) {\r\n      case \"up\":\r\n        x = dots[0].x;\r\n        y = dots[0].y + 2;\r\n        additionalTrailingDot = { x, y };\r\n        break;\r\n      case \"down\":\r\n        x = dots[0].x;\r\n        y = dots[0].y - 2;\r\n        additionalTrailingDot = { x, y };\r\n        break;\r\n      case \"right\":\r\n        x = dots[0].x - 2;\r\n        y = dots[0].y;\r\n        additionalTrailingDot = { x, y };\r\n        break;\r\n      case \"left\":\r\n        x = dots[0].x + 2;\r\n        y = dots[0].y;\r\n        additionalTrailingDot = { x, y };\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    const newFoodPosition = setDotsFreeRandomPosition(dots);\r\n    const newDots = [additionalTrailingDot, ...dots];\r\n\r\n    return { newFoodPosition, newDots };\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nconst setDotsFreeRandomPosition = (dots) => {\r\n  while (true) {\r\n    const randomX = randomEvenInteger(100);\r\n    const randomY = randomEvenInteger(100);\r\n    const found = dots.find((dot) => dot.x === randomX && dot.y === randomY);\r\n    if (!found) {\r\n      return [{ x: randomX, y: randomY }];\r\n    }\r\n  }\r\n};\r\n\r\nconst randomEvenInteger = (max) =>\r\n  parseInt(Math.floor(Math.random() * max) / 2) * 2;\r\n","export const doMove = (dots, direction) => {\r\n  if (direction === \"down\") {\r\n    const { head, tail } = detachHeadFromTail(dots);\r\n    head.y = head.y + 2;\r\n\r\n    return [...tail, head];\r\n  } else if (direction === \"up\") {\r\n    const { head, tail } = detachHeadFromTail(dots);\r\n    head.y = head.y - 2;\r\n\r\n    return [...tail, head];\r\n  } else if (direction === \"left\") {\r\n    const { head, tail } = detachHeadFromTail(dots);\r\n    head.x = head.x - 2;\r\n\r\n    return [...tail, head];\r\n  } else {\r\n    const { head, tail } = detachHeadFromTail(dots);\r\n    head.x = head.x + 2;\r\n\r\n    return [...tail, head];\r\n  }\r\n};\r\n\r\nconst detachHeadFromTail = (dots) => {\r\n  const tail = dots.slice(1); // all without first one(will be deleted)\r\n  const head = Object.assign({}, dots[dots.length - 1]); // object reference issues\r\n\r\n  return { tail, head };\r\n};\r\n","export const INITIAL_DOTS = [\r\n  { x: 2, y: 2 },\r\n  { x: 3, y: 2 },\r\n  { x: 4, y: 2 }\r\n];\r\n\r\nexport const INITIAL_FOOD = [{ x: 50, y: 50 }];\r\n\r\nexport const INITIAL_DIRECTION = \"right\";\r\n\r\nexport const INITIAL_SPEED = 100;\r\n","import { gameOver } from \"./gameOver\";\r\n\r\nexport const checkSelfCollision = (dots, setDots, setFood, setDirection) => {\r\n  const head = Object.assign({}, dots[dots.length - 1]); // object reference issues\r\n  const tail = dots.slice(0, dots.length - 1); // all without last one(which is head)\r\n  const found = tail.find(({ x, y }) => x === head.x && y === head.y);\r\n  if (found) {\r\n    gameOver(dots, setDots, setFood, setDirection);\r\n  }\r\n};\r\n","import {\r\n  INITIAL_DOTS,\r\n  INITIAL_FOOD,\r\n  INITIAL_DIRECTION\r\n} from \"../config/initialState\";\r\n\r\nexport const gameOver = (dots, setDots, setFood, setDirection) => {\r\n  console.log(dots.length);\r\n  alert(`Game over! Snake length: ${dots.length}`);\r\n  setDots(INITIAL_DOTS);\r\n  setFood(INITIAL_FOOD);\r\n  setDirection(INITIAL_DIRECTION);\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport \"semantic-ui-css/semantic.min.css\";\r\n\r\nimport Snake from \"./snake/Snake\";\r\nimport Food from \"./food/Food\";\r\nimport ControlBtns from \"./buttons/ControlBtns\";\r\nimport { checkDirection } from \"../helpers/checkDirection\";\r\nimport { checkBoundaries } from \"../helpers/checkBoundaries\";\r\nimport { checkFoodTouch } from \"../helpers/checkFoodTouch\";\r\nimport { doMove } from \"../helpers/doMove\";\r\nimport { checkSelfCollision } from \"../helpers/checkSelfCollision\";\r\n\r\nimport {\r\n  INITIAL_DOTS,\r\n  INITIAL_FOOD,\r\n  INITIAL_DIRECTION,\r\n  INITIAL_SPEED\r\n} from \"../config/initialState\";\r\n\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n  const [dots, setDots] = useState(INITIAL_DOTS);\r\n  const [food, setFood] = useState(INITIAL_FOOD);\r\n  const [direction, setDirection] = useState(INITIAL_DIRECTION);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      checkBoundaries(dots, direction);\r\n      setDots(doMove(dots, direction));\r\n      checkSelfCollision(dots, setDots, setFood, setDirection);\r\n      const foodChecked = checkFoodTouch(dots, food, direction);\r\n      if (foodChecked) {\r\n        const { newFoodPosition, newDots } = foodChecked;\r\n\r\n        setFood(newFoodPosition);\r\n        setDots(newDots);\r\n      }\r\n    }, INITIAL_SPEED);\r\n    return () => clearInterval(interval);\r\n  });\r\n\r\n  document.addEventListener(\"keydown\", (e) => {\r\n    setDirection(checkDirection(e));\r\n  });\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"container-game\">\r\n        <Snake dots={dots} />\r\n        <Food food={food} />\r\n      </div>\r\n      <ControlBtns setDirection={setDirection} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","export const checkBoundaries = (dots) => {\r\n  dots.map((dot) => {\r\n    if (dot.x < 0) {\r\n      dot.x = 100;\r\n    } else if (dot.x > 98) {\r\n      dot.x = 0;\r\n    }\r\n    if (dot.y < 0) {\r\n      dot.y = 100;\r\n    } else if (dot.y > 98) {\r\n      dot.y = 0;\r\n    }\r\n\r\n    return dot;\r\n  });\r\n};\r\n","export const checkDirection = (e) => {\r\n  if (e.defaultPrevented) {\r\n    return;\r\n  }\r\n\r\n  switch (e.code) {\r\n    case \"KeyS\":\r\n    case \"ArrowDown\":\r\n      return \"down\";\r\n    case \"KeyW\":\r\n    case \"ArrowUp\":\r\n      return \"up\";\r\n    case \"KeyA\":\r\n    case \"ArrowLeft\":\r\n      return \"left\";\r\n    case \"KeyD\":\r\n    case \"ArrowRight\":\r\n      return \"right\";\r\n    default:\r\n      break;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}